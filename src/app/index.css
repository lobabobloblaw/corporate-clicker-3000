/**
 * Main CSS file for Discord Activity
 * Includes Tailwind directives and global styles
 */

/* Tailwind CSS directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global styles and resets */
@layer base {
  * {
    /* Prevent text selection lag on mobile */
    -webkit-tap-highlight-color: transparent;
  }

  html,
  body {
    margin: 0;
    padding: 0;
    width: 100%;
    min-height: 100%;
  }

  body {
    /* Discord dark theme as default */
    background-color: #313338;
    color: #DBDEE1;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-y: auto; /* Allow scrolling for game content */
  }

  #root {
    width: 100%;
    min-height: 100%;
  }

  /* Ensure consistent box-sizing */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  /* Remove default button styles */
  button {
    border: none;
    background: none;
    padding: 0;
    margin: 0;
    font: inherit;
    color: inherit;
    cursor: pointer;
  }

  /* Remove input appearance */
  input,
  textarea,
  select {
    font: inherit;
    color: inherit;
    background: none;
    border: none;
    outline: none;
  }
}

/* Custom component styles */
@layer components {
  /* Discord-style button */
  .btn-discord {
    @apply bg-discord-blurple text-white px-4 py-2 rounded-discord font-medium;
    @apply transition-colors duration-150;
    @apply active:bg-opacity-80;
    /* Minimum touch target size */
    min-height: 44px;
    min-width: 44px;
  }

  .btn-discord:active {
    @apply bg-discord-active;
  }

  /* Discord-style input */
  .input-discord {
    @apply bg-discord-bg-tertiary text-discord-text-normal;
    @apply px-4 py-2 rounded-discord;
    @apply border border-discord-border;
    @apply transition-colors duration-150;
    min-height: 44px;
  }

  .input-discord:focus {
    @apply border-discord-blurple;
  }

  /* Discord-style card/panel */
  .card-discord {
    @apply bg-discord-bg-secondary rounded-discord-lg p-4;
    @apply border border-discord-border;
  }

  /* Loading spinner */
  .spinner {
    @apply animate-spin rounded-full border-4 border-discord-border border-t-discord-blurple;
    width: 40px;
    height: 40px;
  }
}

/* Utility classes for mobile optimization */
@layer utilities {
  /* Safe area insets for notched devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Touch-friendly utilities */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Active state for touch feedback (no hover on mobile) */
  .active-touch {
    @apply active:bg-discord-active active:scale-95;
    transition: background-color 0.1s, transform 0.1s;
  }
}
